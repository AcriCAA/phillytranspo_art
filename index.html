<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style>

html,
body {
  padding: 0;
  margin: 0;
}

#switch-dropdown {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  color: white;
  margin: 1em;
  padding: 1em;
  border: 1px solid white;
  border-radius: 3px;
}
.switch-menu{
  top: 4em;
  right: 0;
  position: absolute;
  color: blue;
  padding: 1em;
  min-width: 12em;
  border: 1px solid black;
  margin: 1em;
  
}
ul
{
  margin: 0;
  padding: 0;
  list-style: none;
}
a{
  color: skyblue;
}


.tracts {
    fill: #444;
    stroke: #444;
    opacity: 1;

    /*pointer-events: all;*/
}

svg {
  background-color: #333;
}

.shooter-segment {
  stroke: #ccc;
  stroke-width: 1px;
}

.shooter-segment-0 {
  opacity: 0.5;
}

.shooter-segment-1 {
  opacity: 0.4;
}

.shooter-segment-2 {
  opacity: 0.3;
}

.shooter-segment-3 {
  opacity: 0.2;
}

.shooter-segment-4 {
  opacity: 0.1;
}

circle.route-mfl {
  fill: silver;
  opacity: 0.15;
}
circle.route-bsl {
  fill: silver;
  opacity: 0.15;
}
circle.route-nhsl {
  fill: silver;
  opacity: 0.1;
}
circle.route-10,
circle.route-11,
circle.route-13,
circle.route-34,
circle.route-36,
circle.route-15,
circle.route-104,
circle.route-105 {
  fill: silver;
  opacity: 0.1;
}
circle.bikeshare {
  fill: #000;
  opacity: 0.3;
}

.is-twinkling {
  -webkit-animation-delay: 0;
  -webkit-animation-duration: 2s;
  -webkit-animation-name: twinkle;
}

@-webkit-keyframes twinkle {
  0% {
    opacity: 0;
    fill: white;
    /*stroke: black;*/
  }

  5% {
    opacity: 1;
    fill: white;
  }

/*  15% {
    opacity: 0.5;
    fill: silver;
  }

  20% {
    opacity: 0.9;
    fill: white;
  }
*/
  100% {
    opacity: 0;
    fill: silver;
    /*stroke: white;*/
  }
}

</style>
</head>
<body>

<script src="d3.v3.min.js"></script>
<script src="topojson.v0.min.js"></script>
<script src="underscore.js"></script>
<script src="jquery.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> -->

<script src="transpo_art.js"></script>

<a href="#" id="switch-dropdown">Switches</a>
<div class="switch-menu">
<ul>
  <li>
    <a href="#" id="Subway-switch">mfl</a>
  </li>
  <li>
    <a href="#" id="bsl-switch">bsl</a>
  </li>
</ul>
</div>

<script>
  initializeBaseLayer();
  initializeBikeshareStations();
  initSubway('mfl');
  initSubway('bsl');
  initTrolley('nhsl');
  initTrolley('10');
  initTrolley('11');
  initTrolley('13');
  initTrolley('34');
  initTrolley('36');
  initTrolley('15');
  initTrolley('104');
  initTrolley('105');
  initPaths();

  loadDayOfBikeshare();
  loadDayOfSubwayTrips('mfl');
  loadDayOfSubwayTrips('bsl');
  loadDayOfTrolleyTrips('nhsl');
  loadDayOfTrolleyTrips('10');
  loadDayOfTrolleyTrips('11');
  loadDayOfTrolleyTrips('13');
  loadDayOfTrolleyTrips('34');
  loadDayOfTrolleyTrips('36');
  loadDayOfTrolleyTrips('15');
  loadDayOfTrolleyTrips('104');
  loadDayOfTrolleyTrips('105');
  
  $(function() {
    function toggleLayer(layerName) {
      var layer = $(layerName);
      if (layer.css('display') === 'none') {
        layer.css('display', '');
      } else {
        layer.css('display', 'none');
      }
    }
    
    $('#Subway-switch').on('click', function(evt) {
      evt.preventDefault();
      toggleLayer('#route-mfl');
    });

    $('#bsl-switch').on('click', function(evt) {
      evt.preventDefault();
      toggleLayer('#route-bsl');
    });
  });
</script>
</body>
</html>